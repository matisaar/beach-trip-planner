<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Amalfi Coast ‚Äî Best Airbnb Picks</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
  :root {
    --ocean: #0077b6; --ocean-dark: #023e8a;
    --sunset: #ff6b35; --coral: #e63946;
    --palm: #2d6a4f; --dark: #1a1a2e; --gray: #6b7280;
    --gold: #f59e0b;
    --bg: #faf8f5; --border: #e8e4df; --card: #ffffff;
    --muted: #7a7a7a; --accent: #c2956a;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: 'Inter', -apple-system, sans-serif; background: var(--bg); color: var(--dark); line-height: 1.6; -webkit-font-smoothing: antialiased; }

  /* ‚îÄ‚îÄ Hero ‚îÄ‚îÄ */
  .page-hero {
    background: linear-gradient(135deg, #1a472a 0%, #023e8a 50%, var(--ocean) 100%);
    color: white; padding: 44px 24px 32px; text-align: center;
  }
  .page-hero h1 { font-size: clamp(1.5rem, 4vw, 2rem); font-weight: 900; margin-bottom: 6px; letter-spacing: -0.5px; }
  .page-hero p { font-size: 0.88rem; opacity: 0.7; margin-bottom: 16px; max-width: 500px; margin-left: auto; margin-right: auto; }
  .page-hero-nav { display: flex; gap: 8px; justify-content: center; flex-wrap: wrap; }
  .page-hero-nav a {
    color: rgba(255,255,255,0.75); text-decoration: none; font-size: 0.78rem;
    padding: 6px 16px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.2);
    transition: all 0.2s;
  }
  .page-hero-nav a:hover { background: rgba(255,255,255,0.12); color: white; }

  .container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }

  /* ‚îÄ‚îÄ #1 Pick Hero Card ‚îÄ‚îÄ */
  .pick-hero {
    margin: -28px auto 0; max-width: 1100px; padding: 0 20px; position: relative; z-index: 10;
  }
  .pick-hero-card {
    display: grid; grid-template-columns: 1fr 1fr; border-radius: 20px; overflow: hidden;
    background: var(--card); box-shadow: 0 16px 60px rgba(0,0,0,0.12);
    border: 1px solid var(--border); cursor: pointer; transition: all 0.3s;
  }
  .pick-hero-card:hover { box-shadow: 0 20px 70px rgba(0,0,0,0.18); transform: translateY(-2px); }
  .pick-hero-img { width: 100%; height: 340px; object-fit: cover; display: block; }
  .pick-hero-body { padding: 32px 36px; display: flex; flex-direction: column; justify-content: center; }
  .pick-hero-badge {
    display: inline-flex; align-items: center; gap: 6px; background: linear-gradient(135deg, #e87d3e, #d4363b);
    color: white; font-size: 0.72rem; font-weight: 800; padding: 5px 14px;
    border-radius: 20px; width: fit-content; margin-bottom: 14px; letter-spacing: 0.3px;
  }
  .pick-hero-name { font-size: 1.4rem; font-weight: 800; margin-bottom: 4px; line-height: 1.3; }
  .pick-hero-area { font-size: 0.82rem; color: var(--muted); margin-bottom: 18px; }
  .pick-hero-stats { display: flex; gap: 20px; margin-bottom: 18px; flex-wrap: wrap; }
  .pick-hero-stat { text-align: center; }
  .pick-hero-stat .val { font-size: 1.3rem; font-weight: 800; }
  .pick-hero-stat .val.price { color: var(--palm); }
  .pick-hero-stat .val.rating { color: var(--gold); }
  .pick-hero-stat .val.reviews { color: var(--ocean); }
  .pick-hero-stat .lbl { font-size: 0.62rem; color: var(--muted); text-transform: uppercase; letter-spacing: 0.5px; }
  .pick-hero-score {
    display: flex; align-items: center; gap: 10px;
    background: linear-gradient(135deg, #fff8f0, #fff5eb);
    border: 1px solid #fed7aa; border-radius: 12px; padding: 12px 16px;
  }
  .score-ring {
    width: 48px; height: 48px; position: relative;
  }
  .score-ring svg { width: 48px; height: 48px; transform: rotate(-90deg); }
  .score-ring .bg { fill: none; stroke: #f5e6d3; stroke-width: 4; }
  .score-ring .fg { fill: none; stroke-width: 4; stroke-linecap: round; transition: stroke-dashoffset 1s ease; }
  .score-ring .num {
    position: absolute; inset: 0; display: flex; align-items: center; justify-content: center;
    font-size: 0.82rem; font-weight: 900; color: var(--ocean-dark);
  }
  .score-info { flex: 1; }
  .score-info .title { font-size: 0.68rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; color: #92400e; }
  .score-info .desc { font-size: 0.72rem; color: var(--muted); line-height: 1.4; }

  /* ‚îÄ‚îÄ Section ‚îÄ‚îÄ */
  .section { padding: 48px 0 16px; }
  .section-header { margin-bottom: 20px; padding: 0 20px; max-width: 1100px; margin-left: auto; margin-right: auto; }
  .section-emoji { font-size: 1.5rem; margin-bottom: 4px; display: block; }
  .section-title { font-size: 1.25rem; font-weight: 800; letter-spacing: -0.3px; }
  .section-sub { font-size: 0.82rem; color: var(--muted); margin-top: 2px; }
  .section-divider {
    width: 40px; height: 3px; border-radius: 2px;
    background: linear-gradient(90deg, var(--accent), var(--sunset));
    margin-top: 10px;
  }

  /* ‚îÄ‚îÄ Horizontal scroll row ‚îÄ‚îÄ */
  .scroll-row {
    display: flex; gap: 16px; overflow-x: auto; padding: 0 20px 16px;
    max-width: 1100px; margin: 0 auto;
    scroll-snap-type: x mandatory;
    -ms-overflow-style: none; scrollbar-width: none;
  }
  .scroll-row::-webkit-scrollbar { display: none; }

  /* ‚îÄ‚îÄ Card ‚îÄ‚îÄ */
  .card {
    flex: 0 0 260px; scroll-snap-align: start;
    background: var(--card); border-radius: 16px; overflow: hidden;
    border: 1px solid var(--border); transition: all 0.25s; cursor: pointer;
  }
  .card:hover { box-shadow: 0 10px 35px rgba(0,0,0,0.1); transform: translateY(-3px); }
  .card-img-wrap { position: relative; overflow: hidden; }
  .card-img {
    width: 100%; height: 175px; object-fit: cover; display: block;
    transition: transform 0.4s;
  }
  .card:hover .card-img { transform: scale(1.04); }
  .card-overlay {
    position: absolute; inset: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.35) 0%, transparent 50%);
  }
  .card-rank {
    position: absolute; top: 10px; left: 10px;
    min-width: 26px; height: 26px; border-radius: 8px;
    display: flex; align-items: center; justify-content: center; padding: 0 8px;
    font-size: 0.68rem; font-weight: 800; color: white;
    backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
  }
  .card-rank.mag-high { background: rgba(212,54,59,0.85); }
  .card-rank.mag-mid { background: rgba(230,167,86,0.85); }
  .card-rank.mag-low { background: rgba(160,174,192,0.85); }
  .card-fav {
    position: absolute; top: 10px; right: 10px;
    background: rgba(0,0,0,0.5); color: white; font-size: 0.65rem;
    padding: 3px 8px; border-radius: 6px; font-weight: 600;
    backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);
  }
  .card-price-tag {
    position: absolute; bottom: 10px; left: 10px;
    background: rgba(0,0,0,0.55); color: white; font-size: 0.82rem;
    padding: 4px 10px; border-radius: 8px; font-weight: 700;
    backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);
  }
  .card-body { padding: 14px 16px 16px; }
  .card-name {
    font-size: 0.88rem; font-weight: 700; margin-bottom: 3px;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  }
  .card-area { font-size: 0.72rem; color: var(--muted); margin-bottom: 10px; }
  .card-row { display: flex; align-items: center; gap: 8px; margin-bottom: 10px; }
  .card-rating { font-size: 0.78rem; color: var(--gold); font-weight: 700; }
  .card-reviews { font-size: 0.72rem; color: var(--muted); }
  .card-total { font-size: 0.72rem; color: var(--muted); margin-left: auto; }
  .card-score-bar { display: flex; align-items: center; gap: 6px; }
  .bar-track { flex: 1; height: 5px; border-radius: 3px; background: #f0ece7; overflow: hidden; }
  .bar-fill { height: 100%; border-radius: 3px; }
  .bar-fill.high { background: linear-gradient(90deg, #e87d3e, #d4363b); }
  .bar-fill.mid { background: linear-gradient(90deg, #f0c27f, #e6a756); }
  .bar-fill.low { background: #b8c9d6; }
  .bar-num { font-size: 0.7rem; font-weight: 800; color: var(--ocean-dark); min-width: 16px; }

  /* ‚îÄ‚îÄ Explainer ‚îÄ‚îÄ */
  .explainer {
    max-width: 1100px; margin: 40px auto 0; padding: 0 20px;
  }
  .explainer-card {
    background: var(--card); border: 1px solid var(--border); border-radius: 16px;
    padding: 24px 28px; display: flex; gap: 24px; align-items: flex-start; flex-wrap: wrap;
  }
  .explainer-card h3 { font-size: 0.88rem; font-weight: 800; margin-bottom: 6px; }
  .explainer-card p { font-size: 0.78rem; color: var(--muted); line-height: 1.6; }
  .explainer-item { flex: 1; min-width: 200px; }
  .explainer-formula {
    background: var(--bg); border-radius: 10px; padding: 12px 16px;
    font-size: 0.78rem; color: var(--dark); font-weight: 500; margin-top: 6px;
    border: 1px solid var(--border); font-family: 'Inter', monospace;
  }
  .explainer-formula span { font-weight: 800; }

  /* ‚îÄ‚îÄ Detail Modal ‚îÄ‚îÄ */
  .modal-overlay {
    position: fixed; inset: 0; background: rgba(0,0,0,0.55); z-index: 900;
    display: none; align-items: center; justify-content: center;
    backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px);
  }
  .modal-overlay.visible { display: flex; }
  .modal {
    background: var(--card); border-radius: 20px; width: 92%; max-width: 460px;
    max-height: 90vh; overflow-y: auto; position: relative;
    box-shadow: 0 24px 70px rgba(0,0,0,0.3); animation: modalIn 0.25s ease;
  }
  @keyframes modalIn { from { opacity: 0; transform: scale(0.95) translateY(10px); } to { opacity: 1; transform: scale(1) translateY(0); } }
  .m-close {
    position: absolute; top: 14px; right: 14px; z-index: 10;
    background: rgba(0,0,0,0.45); border: none; color: white;
    width: 34px; height: 34px; border-radius: 50%; font-size: 20px;
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); transition: background 0.2s;
  }
  .m-close:hover { background: rgba(0,0,0,0.7); }
  .m-img { width: 100%; height: 260px; object-fit: cover; display: block; }
  .m-body { padding: 22px 26px 26px; }
  .m-name { font-size: 1.15rem; font-weight: 800; margin-bottom: 3px; line-height: 1.3; }
  .m-area { font-size: 0.8rem; color: var(--muted); margin-bottom: 16px; }
  .m-score-wrap {
    background: linear-gradient(135deg, #fff8f0, #fff5eb);
    border: 1px solid #fed7aa; border-radius: 14px; padding: 16px 18px; margin-bottom: 16px;
  }
  .m-score-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
  .m-score-label { font-size: 0.68rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; color: #92400e; }
  .m-score-num { font-size: 1.6rem; font-weight: 900; color: var(--ocean-dark); }
  .m-score-bar { height: 8px; border-radius: 4px; background: #f5e6d3; overflow: hidden; }
  .m-score-fill { height: 100%; border-radius: 4px; background: linear-gradient(90deg, #f0c27f, #e87d3e, #d4363b); }
  .m-breakdown {
    display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 4px; margin-top: 10px;
    font-size: 0.68rem; color: var(--muted); text-align: center;
  }
  .m-breakdown .v { font-weight: 700; color: var(--dark); font-size: 0.78rem; }
  .m-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 16px; }
  .m-stat { background: var(--bg); border-radius: 12px; padding: 14px; text-align: center; }
  .m-stat .v { font-size: 1.2rem; font-weight: 800; color: var(--ocean-dark); }
  .m-stat .v.price { color: var(--palm); }
  .m-stat .l { font-size: 0.62rem; color: var(--muted); text-transform: uppercase; letter-spacing: 0.5px; margin-top: 2px; }
  .m-badges { display: flex; gap: 5px; flex-wrap: wrap; margin-bottom: 16px; }
  .m-badge { font-size: 0.7rem; font-weight: 600; padding: 4px 10px; border-radius: 7px; }
  .m-badge.fire { background: #ffedd5; color: #9a3412; }
  .m-badge.gold { background: #fef3c7; color: #92400e; }
  .m-badge.green { background: #dcfce7; color: var(--palm); }
  .m-book {
    display: block; width: 100%; padding: 14px; text-align: center;
    background: linear-gradient(135deg, #FF385C, #e31c5f); color: white;
    text-decoration: none; border-radius: 12px; font-size: 0.9rem;
    font-weight: 700; font-family: inherit; transition: all 0.2s;
  }
  .m-book:hover { filter: brightness(1.1); transform: translateY(-1px); }

  .footer {
    text-align: center; padding: 32px 20px 40px; color: var(--muted); font-size: 0.72rem;
  }
  .footer a { color: var(--ocean); text-decoration: none; }

  @media (max-width: 700px) {
    .pick-hero-card { grid-template-columns: 1fr; }
    .pick-hero-img { height: 220px; }
    .pick-hero-body { padding: 20px; }
    .card { flex: 0 0 240px; }
    .explainer-card { flex-direction: column; gap: 16px; }
  }
</style>
</head>
<body>

<div class="page-hero">
  <h1>üèÜ Best Airbnb Picks</h1>
  <p>Auto-ranked from 280 Amalfi Coast listings. Scored by price, rating & reviews ‚Äî the best float to the top.</p>
  <div class="page-hero-nav">
    <a href="best-trip.html">‚Üê Itinerary</a>
    <a href="airbnbs.html">All 280 Listings</a>
  </div>
</div>

<!-- #1 PICK -->
<div class="pick-hero">
  <div class="pick-hero-card" onclick="openModal(HERO.id)">
    <img class="pick-hero-img" src="" alt="" id="heroImg">
    <div class="pick-hero-body">
      <div class="pick-hero-badge">üëë #1 OVERALL PICK</div>
      <div class="pick-hero-name" id="heroName"></div>
      <div class="pick-hero-area" id="heroArea"></div>
      <div class="pick-hero-stats">
        <div class="pick-hero-stat"><div class="val price" id="heroPrice"></div><div class="lbl">Per Night</div></div>
        <div class="pick-hero-stat"><div class="val rating" id="heroRating"></div><div class="lbl">Rating</div></div>
        <div class="pick-hero-stat"><div class="val reviews" id="heroReviews"></div><div class="lbl">Reviews</div></div>
      </div>
      <div class="pick-hero-score">
        <div class="score-ring">
          <svg viewBox="0 0 48 48">
            <circle class="bg" cx="24" cy="24" r="20"/>
            <circle class="fg" id="heroRing" cx="24" cy="24" r="20"
              stroke-dasharray="125.6" stroke-dashoffset="125.6"/>
          </svg>
          <div class="num" id="heroScoreNum"></div>
        </div>
        <div class="score-info">
          <div class="title">Value Score</div>
          <div class="desc">Best combined rating, reviews<br>& price out of 280 listings</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- SECTIONS -->
<div id="sections"></div>

<!-- EXPLAINER -->
<div class="explainer">
  <div class="explainer-card">
    <div class="explainer-item">
      <h3>üß™ How scoring works</h3>
      <p>Each listing gets a composite score from 0‚Äì100 based on three normalized dimensions, weighted equally:</p>
      <div class="explainer-formula">
        Score = <span>35%</span> Rating + <span>35%</span> Reviews + <span>30%</span> Lower Price
      </div>
    </div>
    <div class="explainer-item">
      <h3>üìä What we analyzed</h3>
      <p>280 total Airbnb listings scraped for Aug 22‚Äì29, 2026 (2 adults). Filtered to 47 with photos, then auto-sorted into curated categories. No manual selection.</p>
    </div>
  </div>
</div>

<!-- MODAL -->
<div class="modal-overlay" id="modalOverlay" onclick="if(event.target===this)closeModal()">
  <div class="modal">
    <button class="m-close" onclick="closeModal()">&times;</button>
    <img class="m-img" id="mImg" src="" alt="">
    <div class="m-body">
      <div class="m-name" id="mName"></div>
      <div class="m-area" id="mArea"></div>
      <div class="m-score-wrap">
        <div class="m-score-top">
          <span class="m-score-label">Value Score</span>
          <span class="m-score-num" id="mScore"></span>
        </div>
        <div class="m-score-bar"><div class="m-score-fill" id="mScoreFill"></div></div>
        <div class="m-breakdown">
          <div><div class="v" id="mBkR"></div>Rating</div>
          <div><div class="v" id="mBkRv"></div>Reviews</div>
          <div><div class="v" id="mBkP"></div>Price</div>
        </div>
      </div>
      <div class="m-grid">
        <div class="m-stat"><div class="v price" id="mPrice"></div><div class="l">Per Night</div></div>
        <div class="m-stat"><div class="v" id="mTotal"></div><div class="l">7 Nights</div></div>
        <div class="m-stat"><div class="v" id="mRating"></div><div class="l">Rating</div></div>
        <div class="m-stat"><div class="v" id="mReviews"></div><div class="l">Reviews</div></div>
      </div>
      <div class="m-badges" id="mBadges"></div>
      <a class="m-book" id="mLink" href="#" target="_blank">View on Airbnb ‚Üí</a>
    </div>
  </div>
</div>

<div class="footer">
  Curated from <a href="airbnbs.html">280 Airbnb listings</a> ¬∑ Data scraped Feb 2026 ¬∑ Prices in CAD
</div>

<script>
const HERO = {"id": "32588731", "name": "Windows on heaven. Total sea view house!", "area": "Scala", "price": 224, "total": 1568, "rating": 4.98, "reviews": 445, "url": "https://www.airbnb.ca/rooms/32588731?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/hosting/Hosting-U3RheVN1cHBseUxpc3Rpbmc6MzI1ODg3MzE%3D/original/38e2203b-a04c-469c-a47e-ce4dc45dc593.jpeg", "guest_fav": false, "mag": 90, "rank": 1};
const SECTIONS = [{"id": "best-value", "emoji": "\ud83c\udfaf", "title": "Best Overall Value", "subtitle": "Highest combined score across price, rating & reviews", "cards": [{"id": "19917103", "name": "Casa Vacanze Mir\u00f2 (Airbnb), Ravello", "area": "Ravello", "price": 320, "total": 2240, "rating": 5.0, "reviews": 417, "url": "https://www.airbnb.ca/rooms/19917103?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/9ae3c2b8-21a5-4f18-bbeb-b6dfa43bd05f.jpg", "guest_fav": false, "mag": 87, "rank": 2}, {"id": "18457653", "name": "The home of the Gods (24/7 support) entire house", "area": "Praiano", "price": 607, "total": 4246, "rating": 4.99, "reviews": 429, "url": "https://www.airbnb.ca/rooms/18457653?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/ff01aa2d-36bc-4a61-b04b-85bd29200f1d.jpg", "guest_fav": false, "mag": 82, "rank": 3}, {"id": "35930217", "name": "LUCY\u2019S HOUSE - comfortable apartment in Amalfi", "area": "Pontone", "price": 348, "total": 2433, "rating": 4.92, "reviews": 438, "url": "https://www.airbnb.ca/rooms/35930217?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/36e419cf-a1f1-4ca9-a4c8-a494517488ce.jpg", "guest_fav": true, "mag": 81, "rank": 4}, {"id": "2938612", "name": "unbelievable new house sea view", "area": "Ravello", "price": 224, "total": 1570, "rating": 4.81, "reviews": 745, "url": "https://www.airbnb.ca/rooms/2938612?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/84896876/0b1113f1_original.jpg", "guest_fav": true, "mag": 81, "rank": 5}, {"id": "6690135", "name": "Full relaxation", "area": "Agerola", "price": 185, "total": 1295, "rating": 4.8, "reviews": 619, "url": "https://www.airbnb.ca/rooms/6690135?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/miso/Hosting-6690135/original/0c06ad47-6c8b-4d7a-89f2-ef0f16c3912a.jpeg", "guest_fav": false, "mag": 81, "rank": 6}]}, {"id": "budget", "emoji": "\ud83d\udcb0", "title": "Budget Gems", "subtitle": "Under $175/night, rated 4.85+", "cards": [{"id": "19538495", "name": "Home holiday \"Marygi\u00f2\"", "area": "Agerola", "price": 149, "total": 1041, "rating": 4.97, "reviews": 322, "url": "https://www.airbnb.ca/rooms/19538495?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/e7970991-75c1-4062-b2a9-dfe0c38bb9bb.jpg", "guest_fav": false, "mag": 77, "rank": null}, {"id": "44836624", "name": "PARADISE APARTMENT", "area": "Agerola", "price": 144, "total": 1007, "rating": 4.95, "reviews": 300, "url": "https://www.airbnb.ca/rooms/44836624?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/a497debf-0fc7-4ac2-8c79-a0efdb4ab1ec.jpg", "guest_fav": false, "mag": 73, "rank": null}, {"id": "617194", "name": "Albachiara-hiking Amalficoast-PathOfGods-Jasmine", "area": "Furore", "price": 122, "total": 852, "rating": 4.9, "reviews": 321, "url": "https://www.airbnb.ca/rooms/617194?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/14279174/826af118_original.jpg", "guest_fav": true, "mag": 71, "rank": null}, {"id": "47576133", "name": "Room with en-suite bathroom. Station super close!", "area": "Other", "price": 107, "total": 749, "rating": 4.94, "reviews": 281, "url": "https://www.airbnb.ca/rooms/47576133?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/e144da7b-75d0-4b42-9f91-e39804d4009f.jpg", "guest_fav": false, "mag": 71, "rank": null}]}, {"id": "most-loved", "emoji": "\ud83d\udcac", "title": "Most Reviewed", "subtitle": "Tried, tested & loved by hundreds of guests", "cards": [{"id": "13922336", "name": "OASI in the center with parking", "area": "Other", "price": 1673, "total": 11711, "rating": 4.83, "reviews": 510, "url": "https://www.airbnb.ca/rooms/13922336?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/bb6fa94b-bac5-4877-a790-cf25b618b462.jpg", "guest_fav": false, "mag": 55, "rank": null}, {"id": "21660322", "name": "Casa San Nicola, Positano", "area": "Positano", "price": 551, "total": 3854, "rating": 4.82, "reviews": 509, "url": "https://www.airbnb.ca/rooms/21660322?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/hosting/Hosting-21660322/original/f2d9a951-35bf-44bc-9d2e-3f1ed209d66b.jpeg", "guest_fav": true, "mag": 75, "rank": null}, {"id": "3069031", "name": "Ocean view Martida_apartment studio", "area": "Praiano", "price": 296, "total": 2069, "rating": 4.92, "reviews": 390, "url": "https://www.airbnb.ca/rooms/3069031?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/70476242/063d3c43_original.jpg", "guest_fav": false, "mag": 77, "rank": null}, {"id": "18071473", "name": "Alma House", "area": "Amalfi", "price": 270, "total": 1887, "rating": 4.8, "reviews": 374, "url": "https://www.airbnb.ca/rooms/18071473?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/3178b78a-3887-4ec4-a383-e5b5b3e8857c.jpg", "guest_fav": true, "mag": 65, "rank": null}]}, {"id": "perfect", "emoji": "\u2b50", "title": "Highest Rated", "subtitle": "Near-perfect ratings with 100+ reviews to back it up", "cards": [{"id": "19633284", "name": "Amalfi Lady Laura House", "area": "Amalfi", "price": 607, "total": 4247, "rating": 4.99, "reviews": 366, "url": "https://www.airbnb.ca/rooms/19633284?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/6a4be995-f696-4c7a-b67b-4987d166cdba.jpg", "guest_fav": false, "mag": 75, "rank": null}, {"id": "17631918", "name": "Villa Gio PositanoHouse", "area": "Nocelle", "price": 730, "total": 5112, "rating": 4.99, "reviews": 270, "url": "https://www.airbnb.ca/rooms/17631918?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/miso/Hosting-17631918/original/5f89a7a6-6280-4624-a77c-8312f8f0e194.jpeg", "guest_fav": false, "mag": 62, "rank": null}, {"id": "13671263", "name": "EXCLUSIVE APARTAMENT your piece of paradise", "area": "Furore", "price": 455, "total": 3183, "rating": 4.98, "reviews": 370, "url": "https://www.airbnb.ca/rooms/13671263?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/83d4e63c-140e-4b51-95bb-45147fa8ec2c.jpg", "guest_fav": false, "mag": 77, "rank": null}, {"id": "12802359", "name": "B&B la Palombara", "area": "Other", "price": 436, "total": 3055, "rating": 4.98, "reviews": 309, "url": "https://www.airbnb.ca/rooms/12802359?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/c9b6e849-41fe-4c4b-b86d-39b361886e06.jpg", "guest_fav": false, "mag": 71, "rank": null}]}, {"id": "hidden", "emoji": "\ud83d\udc8e", "title": "Hidden Gems", "subtitle": "Off the beaten path \u2014 lesser known areas, great value", "cards": [{"id": "43281874", "name": "Home overlooking Vesuvius on the hills of Castellammare", "area": "Other", "price": 177, "total": 1236, "rating": 4.97, "reviews": 319, "url": "https://www.airbnb.ca/rooms/43281874?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/dc28e98e-66ca-4db1-880b-481584d48828.jpg", "guest_fav": false, "mag": 76, "rank": null}, {"id": "41642520", "name": "My Habitat - Your home away from home", "area": "Other", "price": 150, "total": 1050, "rating": 4.96, "reviews": 217, "url": "https://www.airbnb.ca/rooms/41642520?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/0bb33890-fb36-4b7e-8486-c849e10b0daa.jpg", "guest_fav": true, "mag": 65, "rank": null}, {"id": "9900192", "name": "Il Pertuso B&B, Teresa Room", "area": "Nocelle", "price": 282, "total": 1977, "rating": 4.92, "reviews": 259, "url": "https://www.airbnb.ca/rooms/9900192?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/6471c3d0-c08a-4dc3-8d15-e39606bcb843.jpg", "guest_fav": false, "mag": 63, "rank": null}, {"id": "20491538", "name": "La Maison du Paradis B&B nel cuore di Salerno", "area": "Vietri sul Mare", "price": 270, "total": 1889, "rating": 4.96, "reviews": 223, "url": "https://www.airbnb.ca/rooms/20491538?check_in=2026-08-22&check_out=2026-08-29&adults=2", "img": "https://a0.muscache.com/im/pictures/227ea05a-4d43-4d5b-b8af-635e8deac0fb.jpg", "guest_fav": false, "mag": 63, "rank": null}]}];
const ALL = [HERO, ...SECTIONS.flatMap(s => s.cards)];

/* Score color */
function scoreColor(s) {
  if (s >= 70) return '#d4363b';
  if (s >= 40) return '#e6a756';
  return '#b8c9d6';
}
function scoreTier(s) {
  if (s >= 70) return 'high';
  if (s >= 40) return 'mid';
  return 'low';
}

/* ‚îÄ‚îÄ Render hero ‚îÄ‚îÄ */
document.getElementById('heroImg').src = HERO.img;
document.getElementById('heroName').textContent = HERO.name;
document.getElementById('heroArea').textContent = 'üìç ' + HERO.area;
document.getElementById('heroPrice').textContent = '$' + HERO.price;
document.getElementById('heroRating').textContent = '‚òÖ ' + HERO.rating.toFixed(2);
document.getElementById('heroReviews').textContent = HERO.reviews;
document.getElementById('heroScoreNum').textContent = HERO.mag;
const ring = document.getElementById('heroRing');
ring.style.stroke = scoreColor(HERO.mag);
setTimeout(() => { ring.style.strokeDashoffset = 125.6 * (1 - HERO.mag / 100); }, 200);

/* ‚îÄ‚îÄ Render sections ‚îÄ‚îÄ */
const sectionsEl = document.getElementById('sections');
sectionsEl.innerHTML = SECTIONS.map(sec => `
  <div class="section">
    <div class="section-header">
      <span class="section-emoji">${sec.emoji}</span>
      <div class="section-title">${sec.title}</div>
      <div class="section-sub">${sec.subtitle}</div>
      <div class="section-divider"></div>
    </div>
    <div class="scroll-row">
      ${sec.cards.map(c => {
        const t = scoreTier(c.mag);
        const rankLabel = c.rank ? '#' + c.rank : c.mag;
        return `
          <div class="card" onclick="openModal('${c.id}')">
            <div class="card-img-wrap">
              <img class="card-img" src="${c.img}" alt="${c.name}" loading="lazy">
              <div class="card-overlay"></div>
              <div class="card-rank mag-${t}">${rankLabel}</div>
              ${c.guest_fav ? '<div class="card-fav">üèÜ Fav</div>' : ''}
              <div class="card-price-tag">$${c.price}/n</div>
            </div>
            <div class="card-body">
              <div class="card-name">${c.name}</div>
              <div class="card-area">üìç ${c.area}</div>
              <div class="card-row">
                <span class="card-rating">‚òÖ ${c.rating.toFixed(2)}</span>
                <span class="card-reviews">${c.reviews} reviews</span>
                <span class="card-total">$${c.total} total</span>
              </div>
              <div class="card-score-bar">
                <div class="bar-track"><div class="bar-fill ${t}" style="width:${c.mag}%"></div></div>
                <span class="bar-num">${c.mag}</span>
              </div>
            </div>
          </div>
        `;
      }).join('')}
    </div>
  </div>
`).join('');

/* ‚îÄ‚îÄ Modal ‚îÄ‚îÄ */
function openModal(id) {
  const d = ALL.find(d => d.id === id);
  if (!d) return;
  document.getElementById('mImg').src = d.img;
  document.getElementById('mName').textContent = d.name;
  document.getElementById('mArea').textContent = 'üìç ' + d.area;
  document.getElementById('mScore').textContent = d.mag + '/100';
  document.getElementById('mScoreFill').style.width = d.mag + '%';
  document.getElementById('mBkR').textContent = '‚òÖ ' + d.rating.toFixed(2);
  document.getElementById('mBkRv').textContent = d.reviews;
  document.getElementById('mBkP').textContent = '$' + d.price + '/n';
  document.getElementById('mPrice').textContent = '$' + d.price;
  document.getElementById('mTotal').textContent = '$' + d.total;
  document.getElementById('mRating').textContent = '‚òÖ ' + d.rating.toFixed(2);
  document.getElementById('mReviews').textContent = d.reviews;
  document.getElementById('mLink').href = d.url;
  let b = '';
  if (d.mag >= 70) b += '<span class="m-badge fire">üî• Top Value</span>';
  if (d.guest_fav) b += '<span class="m-badge gold">üèÜ Guest Favorite</span>';
  if (d.area === 'Agerola') b += '<span class="m-badge green">üè† Near Home Base</span>';
  document.getElementById('mBadges').innerHTML = b;
  document.getElementById('modalOverlay').classList.add('visible');
}
function closeModal() { document.getElementById('modalOverlay').classList.remove('visible'); }
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });
</script>
</body>
</html>